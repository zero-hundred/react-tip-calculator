{"ast":null,"code":"import _slicedToArray from\"/Users/kilgamesh/Desktop/react-tip-calculator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useReducer}from'react';import{SET_TOTAL_PER,SET_TOTAL_TIP,SET_TIP_PER,SET_PEOPLE_NUM,SET_START_PRICE,SET_NO_PEOPLE,SET_ALL_EMPTY}from'./types';import CalculatorContext from'./CalculatorContext';import CalculatorReducer from'./CalculatorReducer';import{jsx as _jsx}from\"react/jsx-runtime\";var CalculatorState=function CalculatorState(props){var initStates={totalEach:0,tipEach:0,tipPercent:0,people:null,startPrice:null,isEmpty:true,noPeople:null};var _useReducer=useReducer(CalculatorReducer,initStates),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];function setNoPeople(setBool){dispatch({type:SET_NO_PEOPLE,payload:setBool});}function setTotalEach(totalEach){dispatch({type:SET_TOTAL_PER,payload:totalEach});}function setTipPercent(percent){dispatch({type:SET_TOTAL_TIP,payload:percent});}function setTipEach(tipEach){dispatch({type:SET_TIP_PER,payload:tipEach});}function setEmpty(setBool){dispatch({type:SET_ALL_EMPTY,payload:setBool});}function setPeople(newPeople){if(newPeople>0){setNoPeople(false);}dispatch({type:SET_PEOPLE_NUM,payload:newPeople});}function setStartPrice(price){dispatch({type:SET_START_PRICE,payload:price});}// Checks people state\nfunction checkError(){if(state.people===null){setNoPeople(null);}else if(state.people<=0){setNoPeople(true);}else{setNoPeople(false);}}// Checks is form is filled\n// If form filled sets total/tip each\nfunction checkForm(){if(state.people!==''&&state.people>0&&state.startPrice!==''&&state.startPrice>0&&state.tipPercent>0){// Generates total $ per person\nvar totalPer=(state.startPrice*Number(state.tipPercent/100)+state.startPrice)/state.people;setTotalEach(totalPer);// Generates tip $ per person\nvar tipEach=state.startPrice*Number(state.tipPercent/100)/state.people;setTipEach(tipEach);}}function handleTipPercent(event){setTipPercent(event.target.value);checkForm();setEmpty(false);}function handlePeople(e){setPeople(Number(e.target.value));setEmpty(false);checkError();checkForm();}function handleStartPrice(e){setStartPrice(Number(e.target.value));setEmpty(false);checkForm();}return/*#__PURE__*/_jsx(CalculatorContext.Provider,{value:{totalEach:state.totalEach,tipEach:state.tipEach,tipPercent:state.tipPercent,people:state.people,startPrice:state.startPrice,isEmpty:state.isEmpty,setTipPercent:state.setTipPercent,noPeople:state.noPeople,handleTipPercent:handleTipPercent,handlePeople:handlePeople,handleStartPrice:handleStartPrice,checkForm:checkForm,checkError:checkError},children:props.children});};export default CalculatorState;","map":{"version":3,"sources":["/Users/kilgamesh/Desktop/react-tip-calculator/src/context/CalculatorState.js"],"names":["useReducer","SET_TOTAL_PER","SET_TOTAL_TIP","SET_TIP_PER","SET_PEOPLE_NUM","SET_START_PRICE","SET_NO_PEOPLE","SET_ALL_EMPTY","CalculatorContext","CalculatorReducer","CalculatorState","props","initStates","totalEach","tipEach","tipPercent","people","startPrice","isEmpty","noPeople","state","dispatch","setNoPeople","setBool","type","payload","setTotalEach","setTipPercent","percent","setTipEach","setEmpty","setPeople","newPeople","setStartPrice","price","checkError","checkForm","totalPer","Number","handleTipPercent","event","target","value","handlePeople","e","handleStartPrice","children"],"mappings":"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","sourcesContent":["import { useReducer } from 'react';\nimport {\nSET_TOTAL_PER,SET_TOTAL_TIP,SET_TIP_PER,\nSET_PEOPLE_NUM, SET_START_PRICE, SET_NO_PEOPLE,\nSET_ALL_EMPTY\n} from './types';\nimport CalculatorContext from './CalculatorContext';\nimport CalculatorReducer from './CalculatorReducer';\n\nconst CalculatorState = props => {\n    const initStates = {\n        totalEach: 0,\n        tipEach: 0,\n        tipPercent: 0,\n        people: null,\n        startPrice: null,\n        isEmpty: true,\n        noPeople: null\n    }\n\n    const [state, dispatch] = useReducer(CalculatorReducer, initStates);\n\n    function setNoPeople(setBool) {\n        dispatch({\n            type: SET_NO_PEOPLE,\n            payload: setBool\n        })\n    }\n    function setTotalEach(totalEach) {\n        dispatch({\n            type: SET_TOTAL_PER,\n            payload: totalEach\n        })\n    }\n    function setTipPercent(percent) {\n        dispatch({\n            type: SET_TOTAL_TIP,\n            payload: percent\n        })\n    }\n    function setTipEach(tipEach) {\n        dispatch({\n            type: SET_TIP_PER,\n            payload: tipEach\n        })\n    }\n    function setEmpty(setBool) {\n        dispatch({\n            type: SET_ALL_EMPTY,\n            payload: setBool\n        })\n    }\n    function setPeople(newPeople) {\n        if(newPeople > 0) {\n            setNoPeople(false);\n        }\n        dispatch({\n            type: SET_PEOPLE_NUM,\n            payload: newPeople\n        })\n    }\n    function setStartPrice(price) {\n        dispatch({\n            type: SET_START_PRICE,\n            payload: price\n        })\n    } \n    // Checks people state\n    function checkError() {\n        if(state.people === null) {\n            setNoPeople(null)\n        } else if(state.people <= 0) {\n            setNoPeople(true)\n        } else {\n            setNoPeople(false)\n        }\n    }\n\n    // Checks is form is filled\n    // If form filled sets total/tip each\n    function checkForm() {\n        if((state.people !== '' && state.people > 0) && \n        (state.startPrice !== '' && state.startPrice > 0) &&\n        (state.tipPercent > 0)) {\n            // Generates total $ per person\n          var totalPer = (state.startPrice * Number(state.tipPercent / 100) + state.startPrice) / state.people;\n          setTotalEach(totalPer);\n    \n          // Generates tip $ per person\n          var tipEach = (state.startPrice * Number(state.tipPercent / 100) / state.people);\n          setTipEach(tipEach);\n        }\n    }\n\n    function handleTipPercent(event) {\n        setTipPercent(event.target.value);\n        checkForm();\n        setEmpty(false);\n    }\n    function handlePeople(e) {\n        setPeople(Number(e.target.value));\n        setEmpty(false);\n        checkError();\n        checkForm();\n    }\n    function handleStartPrice(e) {\n        setStartPrice(Number(e.target.value));\n        setEmpty(false);\n        checkForm();\n    }\n\n    return (\n        <CalculatorContext.Provider\n            value={{\n                totalEach: state.totalEach,\n                tipEach: state.tipEach,\n                tipPercent: state.tipPercent,\n                people: state.people,\n                startPrice: state.startPrice,\n                isEmpty: state.isEmpty,\n                setTipPercent: state.setTipPercent,\n                noPeople: state.noPeople,\n                handleTipPercent: handleTipPercent,\n                handlePeople: handlePeople,\n                handleStartPrice: handleStartPrice,\n                checkForm: checkForm,\n                checkError: checkError\n            }}\n        >\n            {props.children}\n        </CalculatorContext.Provider>\n    )\n}\n\nexport default CalculatorState;"]},"metadata":{},"sourceType":"module"}