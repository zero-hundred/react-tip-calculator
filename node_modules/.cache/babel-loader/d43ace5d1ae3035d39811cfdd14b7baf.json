{"ast":null,"code":"var _jsxFileName = \"/Users/kilgamesh/Desktop/react-tip-calculator/src/context/CalculatorState.js\",\n    _s = $RefreshSig$();\n\nimport { useReducer } from 'react';\nimport { SET_TOTAL_PER, SET_TOTAL_TIP, SET_TIP_PER, SET_PEOPLE_NUM, SET_START_PRICE, SET_NO_PEOPLE, SET_ALL_EMPTY } from './types';\nimport CalculatorContext from './CalculatorContext';\nimport CalculatorReducer from './CalculatorReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CalculatorState = props => {\n  _s();\n\n  const initStates = {\n    totalEach: 0,\n    tipEach: 0,\n    tipPercent: 0,\n    people: 0,\n    startPrice: null,\n    isEmpty: true,\n    noPeople: null\n  };\n  const [state, dispatch] = useReducer(CalculatorReducer, initStates);\n\n  function setNoPeople(setBool) {\n    dispatch({\n      type: SET_NO_PEOPLE,\n      payload: setBool\n    });\n  }\n\n  function setTotalPer(setBool) {\n    dispatch({\n      type: SET_TOTAL_PER,\n      payload: setBool\n    });\n  }\n\n  function setTip(newTip) {\n    dispatch({\n      type: SET_TOTAL_TIP,\n      payload: newTip\n    });\n  }\n\n  function setTipPer(tipEach) {\n    dispatch({\n      type: SET_TIP_PER,\n      payload: tipEach\n    });\n  }\n\n  function setEmpty(setBool) {\n    dispatch({\n      type: SET_ALL_EMPTY,\n      payload: setBool\n    });\n  }\n\n  function setPeople(newPeople) {\n    if (newPeople > 0) {\n      setNoPeople(false);\n    }\n\n    dispatch({\n      type: SET_PEOPLE_NUM,\n      payload: newPeople\n    });\n  }\n\n  function setStartPrice(price) {\n    dispatch({\n      type: SET_START_PRICE,\n      payload: price\n    });\n  }\n\n  function checkError() {\n    if (state.noPeople === null) {\n      setNoPeople(false);\n    } else if (state.people <= 0) {\n      setNoPeople(true);\n    } else {\n      setNoPeople(false);\n    }\n  } // Checks is form is filled\n\n\n  function checkForm() {\n    if (state.people !== '' && state.people > 0 && state.startPrice !== '' && state.startPrice > 0 && state.tip > 0) {\n      // Generates total $ per person\n      var totalPer = (state.startPrice * Number(state.tip / 100) + state.startPrice) / state.people;\n      setTotalPer(totalPer); // Generates tip $ per person\n\n      var tipEach = state.startPrice * Number(state.tip / 100) / state.people;\n      setTipPer(tipEach);\n    }\n  }\n\n  function handleTip(event) {\n    setTip(event.target.value);\n    checkForm();\n    setEmpty(false);\n  }\n\n  function handlePeople(e) {\n    setPeople(Number(e.target.value));\n    setEmpty(false);\n    checkError();\n    checkForm();\n  }\n\n  function handleStartPrice(e) {\n    setStartPrice(Number(e.target.value));\n    setEmpty(false);\n    checkForm();\n  }\n\n  return /*#__PURE__*/_jsxDEV(CalculatorContext.Provider, {\n    value: {\n      totalEach: state.totalEach,\n      tipEach: state.tipEach,\n      tipPercent: state.tipPercent,\n      people: state.people,\n      startPrice: state.startPrice,\n      isEmpty: state.isEmpty,\n      noPeople: state.noPeople,\n      handleTip: handleTip,\n      handlePeople: handlePeople,\n      handleStartPrice: handleStartPrice,\n      checkForm: checkForm,\n      checkError: checkError\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CalculatorState, \"mGuVWAKKnw6oP9VfaZJL6ikYUqs=\");\n\n_c = CalculatorState;\nexport default CalculatorState;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalculatorState\");","map":{"version":3,"sources":["/Users/kilgamesh/Desktop/react-tip-calculator/src/context/CalculatorState.js"],"names":["useReducer","SET_TOTAL_PER","SET_TOTAL_TIP","SET_TIP_PER","SET_PEOPLE_NUM","SET_START_PRICE","SET_NO_PEOPLE","SET_ALL_EMPTY","CalculatorContext","CalculatorReducer","CalculatorState","props","initStates","totalEach","tipEach","tipPercent","people","startPrice","isEmpty","noPeople","state","dispatch","setNoPeople","setBool","type","payload","setTotalPer","setTip","newTip","setTipPer","setEmpty","setPeople","newPeople","setStartPrice","price","checkError","checkForm","tip","totalPer","Number","handleTip","event","target","value","handlePeople","e","handleStartPrice","children"],"mappings":"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","sourcesContent":["import { useReducer } from 'react';\nimport {\nSET_TOTAL_PER,SET_TOTAL_TIP,SET_TIP_PER,\nSET_PEOPLE_NUM, SET_START_PRICE, SET_NO_PEOPLE,\nSET_ALL_EMPTY\n} from './types';\nimport CalculatorContext from './CalculatorContext';\nimport CalculatorReducer from './CalculatorReducer';\n\nconst CalculatorState = props => {\n    const initStates = {\n        totalEach: 0,\n        tipEach: 0,\n        tipPercent: 0,\n        people: 0,\n        startPrice: null,\n        isEmpty: true,\n        noPeople: null\n    }\n\n    const [state, dispatch] = useReducer(CalculatorReducer, initStates);\n\n    function setNoPeople(setBool) {\n        dispatch({\n            type: SET_NO_PEOPLE,\n            payload: setBool\n        })\n    }\n    function setTotalPer(setBool) {\n        dispatch({\n            type: SET_TOTAL_PER,\n            payload: setBool\n        })\n    }\n    function setTip(newTip) {\n        dispatch({\n            type: SET_TOTAL_TIP,\n            payload: newTip\n        })\n    }\n    function setTipPer(tipEach) {\n        dispatch({\n            type: SET_TIP_PER,\n            payload: tipEach\n        })\n    }\n    function setEmpty(setBool) {\n        dispatch({\n            type: SET_ALL_EMPTY,\n            payload: setBool\n        })\n    }\n    function setPeople(newPeople) {\n        if(newPeople > 0) {\n            setNoPeople(false);\n        }\n        dispatch({\n            type: SET_PEOPLE_NUM,\n            payload: newPeople\n        })\n    }\n    function setStartPrice(price) {\n        dispatch({\n            type: SET_START_PRICE,\n            payload: price\n        })\n    }\n    \n    function checkError() {\n        if(state.noPeople === null) {\n            setNoPeople(false)\n        } else if(state.people <= 0) {\n            setNoPeople(true)\n        } else {\n            setNoPeople(false)\n        }\n    }\n\n    // Checks is form is filled\n    function checkForm() {\n        if((state.people !== '' && state.people > 0) && \n        (state.startPrice !== '' && state.startPrice > 0) &&\n        (state.tip > 0)) {\n            // Generates total $ per person\n          var totalPer = (state.startPrice * Number(state.tip / 100) + state.startPrice) / state.people;\n          setTotalPer(totalPer);\n    \n          // Generates tip $ per person\n          var tipEach = (state.startPrice * Number(state.tip / 100) / state.people);\n          setTipPer(tipEach);\n        }\n    }\n\n    function handleTip(event) {\n        setTip(event.target.value);\n        checkForm();\n        setEmpty(false);\n    }\n    function handlePeople(e) {\n        setPeople(Number(e.target.value));\n        setEmpty(false);\n        checkError();\n        checkForm();\n    }\n    function handleStartPrice(e) {\n        setStartPrice(Number(e.target.value));\n        setEmpty(false);\n        checkForm();\n    }\n\n    return (\n        <CalculatorContext.Provider\n            value={{\n                totalEach: state.totalEach,\n                tipEach: state.tipEach,\n                tipPercent: state.tipPercent,\n                people: state.people,\n                startPrice: state.startPrice,\n                isEmpty: state.isEmpty,\n                noPeople: state.noPeople,\n                handleTip: handleTip,\n                handlePeople: handlePeople,\n                handleStartPrice: handleStartPrice,\n                checkForm: checkForm,\n                checkError: checkError\n            }}\n        >\n            {props.children}\n        </CalculatorContext.Provider>\n    )\n}\n\nexport default CalculatorState;"]},"metadata":{},"sourceType":"module"}